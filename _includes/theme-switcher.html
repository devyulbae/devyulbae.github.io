<script>
document.addEventListener('DOMContentLoaded', () => {
    // config에서 설정한 default 테마 가져오기 (없으면 'dark'로 설정)
    const defaultTheme = '{{ site.theme_config.default }}' || 'dark';
    
    // localStorage에 저장된 테마가 없으면 default 테마 사용
    const savedTheme = localStorage.getItem('theme');
    const themeToApply = savedTheme || defaultTheme;
    
    // data-theme 속성 설정
    document.documentElement.setAttribute('data-theme', themeToApply);
    console.log('Initial theme:', themeToApply);
});

function toggleTheme() {
    const themes = ['dark', 'light', 'blue', 'neon'];  // dark를 첫 번째로 이동
    const currentTheme = document.documentElement.getAttribute('data-theme');
    
    // 현재 테마의 인덱스를 찾고 다음 테마로 전환
    let currentIndex = themes.indexOf(currentTheme);
    if (currentIndex === -1) currentIndex = 0;  // 잘못된 테마가 설정되어 있으면 dark로 시작
    
    const nextIndex = (currentIndex + 1) % themes.length;
    const newTheme = themes[nextIndex];
    
    console.log('Switching from', currentTheme, 'to', newTheme);
    
    document.documentElement.setAttribute('data-theme', newTheme);
    localStorage.setItem('theme', newTheme);
}
</script>
